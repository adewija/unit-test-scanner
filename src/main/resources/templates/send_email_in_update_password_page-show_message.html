<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.com">
<head>
    <title>Update Password Page</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="icon" type="image/png" th:href="@{images/icons/icon.png}"/>

    <div th:replace="header :: update-password-css"/>

</head>
<body onload="showAlert()">

<div class="limiter">
    <div class="container-login100">
        <div class="wrap-login100">
            <div class="wrap-loader" id="divSpinner">
                <div class="loader"></div>
            </div>
            <form class="login100-form validate-form" th:object="${newAccount}"
                  th:action="@{/update-password-send-email}" method="post">

                <a class="login100-form-system p-b-10 p-t-10" th:href="@{/}">UNIT TEST SCANNER</a>

                <hr style="border-width: 2px; border-color: #2926ac;">

                <span class="login100-form-title p-b-20 p-t-20">Send Email in Update Password</span>

                <span class="login100-form-description p-b-25 p-t-20">Please fill in your email that has been registered in the column below to update your password!</span>

                <div class="wrap-input100 validate-input" data-validate="Enter email">
                    <input class="input100" id="email" type="email" name="email" placeholder="Email"
                           th:field="*{email}">
                    <span class="focus-input100" data-placeholder="&#xf15a;"></span>
                </div>

                <div class="container-login100-form-btn">
                    <button id="send" class="login100-form-btn" type="submit" onclick="return validate()">
                        Send to Email
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script th:inline="javascript">
    function validateEmail(email) {
        var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
    }

    function validate() {
        var email = $("#email").val();
        if (!validateEmail(email)) {
            alert("Please check your email!");
            return false;
        } else {
            displayLoader();
            return true;
        }
    }

    /*<![CDATA[*/

    var message = /*[[${message}]]*/ 'default';
    console.log(message);

    /*]]>*/

    function showAlert() {
        alert(message);
    }

    function displayLoader() {
        var x = document.getElementById("divSpinner");
        x.style.display = "block";
    }
</script>

<!--===============================================================================================-->
<script th:src="@{vendor/jquery/jquery-3.2.1.min.js}"></script>
<!--===============================================================================================-->
<script th:src="@{vendor/animsition/js/animsition.min.js}"></script>
<!--===============================================================================================-->
<script th:src="@{vendor/bootstrap/js/popper.js}"></script>
<script th:src="@{vendor/bootstrap/js/bootstrap.min.js}"></script>
<!--===============================================================================================-->
<script th:src="@{vendor/select2/select2.min.js}"></script>
<!--===============================================================================================-->
<script th:src="@{vendor/daterangepicker/moment.min.js}"></script>
<script th:src="@{vendor/daterangepicker/daterangepicker.js}"></script>
<!--===============================================================================================-->
<script th:src="@{vendor/countdowntime/countdowntime.js}"></script>
<!--===============================================================================================-->
<script th:src="@{js/update-password-page.js}"></script>
<!--===============================================================================================-->


</body>
</html>
